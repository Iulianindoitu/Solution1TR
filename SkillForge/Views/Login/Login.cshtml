@using System.Web.Optimization;

@{
    ViewBag.Title = "Login";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

@section Styles {
    @Styles.Render("~/bundles/core/css")
    @Styles.Render("~/bundles/demo/css")
    @Styles.Render("~/bundles/login/css")
}

     <!-- Content -->
     <div class="container-xxl">
          <div class="authentication-wrapper authentication-basic container-p-y">
               <div class="authentication-inner">
                    <!-- Register -->
                    <div class="card">
                         <div class="card-body">
                              <!-- Logo -->
                              <div class="app-brand justify-content-center">
                                   <a href="index.html" class="app-brand-link gap-2">
                                        <span class="app-brand-logo demo">
                                             <span class="text-primary">
                                                  <img src="~/Content/assets/img/icons/Loogo.jpg"
                                                       alt="SkillForge Logo"
                                                       width="55"
                                                       height="55"
                                                       class="rounded-circle" />
                                             </span>
                                        </span>
                                        <span class="app-brand-text demo text-body fw-bolder">SkillForge</span>
                                   </a>
                              </div>
                              <!-- /Logo -->
                              <h4 class="mb-2">Welcome to SkillForge! 👋</h4>
                              <p class="mb-4">Please sign-in to your account</p>

                              @if (!ViewData.ModelState.IsValid)
                              {
                                   <div class="alert alert-danger">
                                        @Html.ValidationSummary(false)
                                   </div>
                              }

                              @if (TempData["SuccessMessage"] != null)
                              {
                                   <div class="alert alert-success">
                                        @TempData["SuccessMessage"]
                                   </div>
                              }

                              @using (Html.BeginForm("Login", "Login", FormMethod.Post, new { @class = "mb-3" }))
                              {
                                   @Html.AntiForgeryToken()
                                   <div class="mb-3">
                                        <label for="email" class="form-label">Email or Username</label>
                                        <input type="text"
                                               class="form-control"
                                               id="email"
                                               name="email"
                                               placeholder="Enter your email or username"
                                               autofocus />
                                   </div>
                                   <div class="mb-3 form-password-toggle">
                                        <div class="d-flex justify-content-between">
                                             <label class="form-label" for="password">Password</label>
                                             <a href="@Url.Action("ForgotPassword", "Login")">
                                                  <small>Forgot Password?</small>
                                             </a>
                                        </div>
                                        <div class="input-group input-group-merge">
                                             <input type="password"
                                                    id="password"
                                                    class="form-control"
                                                    name="password"
                                                    placeholder="&#xb7;&#xb7;&#xb7;&#xb7;&#xb7;&#xb7;&#xb7;&#xb7;&#xb7;&#xb7;&#xb7;&#xb7;"
                                                    aria-describedby="password" />
                                             <span class="input-group-text cursor-pointer"><i class="bx bx-hide"></i></span>
                                        </div>
                                   </div>
                                   <div class="mb-3">
                                        <div class="form-check">
                                             <input class="form-check-input" type="checkbox" id="remember-me" />
                                             <label class="form-check-label" for="remember-me"> Remember Me </label>
                                        </div>
                                   </div>
                                   <div class="mb-3">
                                        <button class="btn btn-primary d-grid w-100" type="submit">Sign in</button>
                                   </div>
                              }

                              <p class="text-center">
                                   <span>New on our platform?</span>
                                   <a href="@Url.Action("Auth", "Login")">
                                        <span>Create an account</span>
                                   </a>
                              </p>
                         </div>
                    </div>
                    <!-- /Register -->
               </div>
          </div>
     </div>

@section Scripts {
    @Scripts.Render("~/bundles/core/js")
    @Scripts.Render("~/bundles/login/js")
    <script>
        // Password toggle functionality
        document.querySelector('.input-group-text').addEventListener('click', function() {
            const passwordInput = document.querySelector('#password');
            const icon = this.querySelector('i');
            
            if (passwordInput.type === 'password') {
                passwordInput.type = 'text';
                icon.classList.remove('bx-hide');
                icon.classList.add('bx-show');
            } else {
                passwordInput.type = 'password';
                icon.classList.remove('bx-show');
                icon.classList.add('bx-hide');
            }
        });
    </script>
}

     <!-- Page JS -->
     <!-- Place this tag before closing body tag for github widget button. -->
     <script async defer src="https://buttons.github.io/buttons.js"></script>
</body>
</html>


